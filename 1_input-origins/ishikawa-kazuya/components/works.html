{#
    Ishikawa Works/Portfolio Section Component

    Parameters:
    - works_label: str (default: "Works")
    - works_title: str (default: "ä½œå“ç´¹ä»‹")
    - works_desc: str - Section description
    - works: list of dicts with 'image', 'image_placeholder', 'tags', 'title', 'desc', 'link_text', 'link_href' keys

    Usage:
    {% set works = [
        {
            "image_placeholder": "ğŸ›’",
            "tags": ["E-commerce", "React"],
            "title": "ECã‚µã‚¤ãƒˆãƒªãƒ‹ãƒ¥ãƒ¼ã‚¢ãƒ«",
            "desc": "Description here",
            "link_text": "è©³ã—ãè¦‹ã‚‹",
            "link_href": "#"
        }
    ] %}
    {% include "components/ishikawa/works.html" %}
#}
{% set works_label = works_label|default("Works") %}
{% set works_title = works_title|default("ä½œå“ç´¹ä»‹") %}
{% set works_desc = works_desc|default("ã“ã‚Œã¾ã§ã«æ‰‹ãŒã‘ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä¸€éƒ¨ã‚’ã”ç´¹ä»‹ã—ã¾ã™ã€‚") %}
{% set works = works|default([
    {
        "image_placeholder": "ğŸ›’",
        "tags": ["E-commerce", "React"],
        "title": "ECã‚µã‚¤ãƒˆãƒªãƒ‹ãƒ¥ãƒ¼ã‚¢ãƒ«",
        "desc": "å¤§æ‰‹ã‚¢ãƒ‘ãƒ¬ãƒ«ãƒ–ãƒ©ãƒ³ãƒ‰ã®ECã‚µã‚¤ãƒˆã‚’ãƒ•ãƒ«ãƒªãƒ‹ãƒ¥ãƒ¼ã‚¢ãƒ«ã€‚å£²ä¸Š30%å‘ä¸Šã‚’é”æˆã€‚",
        "link_text": "è©³ã—ãè¦‹ã‚‹",
        "link_href": "#"
    },
    {
        "image_placeholder": "ğŸ“Š",
        "tags": ["Dashboard", "Vue.js"],
        "title": "ãƒ‡ãƒ¼ã‚¿ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰",
        "desc": "ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‡ãƒ¼ã‚¿ã‚’å¯è¦–åŒ–ã™ã‚‹ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’è¨­è¨ˆãƒ»é–‹ç™ºã€‚",
        "link_text": "è©³ã—ãè¦‹ã‚‹",
        "link_href": "#"
    },
    {
        "image_placeholder": "ğŸ“±",
        "tags": ["Mobile", "Flutter"],
        "title": "ãƒ•ã‚£ãƒƒãƒˆãƒã‚¹ã‚¢ãƒ—ãƒª",
        "desc": "ãƒ˜ãƒ«ã‚¹ã‚±ã‚¢ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ã®ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªã‚’ã‚¼ãƒ­ã‹ã‚‰é–‹ç™ºã€‚",
        "link_text": "è©³ã—ãè¦‹ã‚‹",
        "link_href": "#"
    }
]) %}

<style>
.ik-works-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 32px;
}

.ik-work-card {
    background: var(--ik-white);
    border-radius: var(--ik-radius-lg);
    overflow: hidden;
    box-shadow: var(--ik-shadow-sm);
    transition: all 0.3s var(--ik-ease);
    border: 1px solid var(--ik-border-light);
}

.ik-work-card:hover {
    transform: translateY(-8px);
    box-shadow: var(--ik-shadow-lg);
}

.ik-work-card__image {
    width: 100%;
    aspect-ratio: 16/10;
    object-fit: cover;
    background: var(--ik-bg);
}

.ik-work-card__image-placeholder {
    width: 100%;
    aspect-ratio: 16/10;
    background: linear-gradient(135deg, var(--ik-bg), var(--ik-border));
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 48px;
}

.ik-work-card__content {
    padding: 24px;
}

.ik-work-card__tags {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin-bottom: 12px;
}

.ik-work-card__tag {
    padding: 4px 10px;
    background: var(--ik-primary-light);
    color: var(--ik-primary);
    font-size: 12px;
    font-weight: 500;
    border-radius: 100px;
}

.ik-work-card__title {
    font-family: var(--ik-font-display);
    font-size: 18px;
    font-weight: 600;
    margin-bottom: 8px;
}

.ik-work-card__desc {
    font-size: 14px;
    color: var(--ik-text-muted);
    line-height: 1.6;
}

.ik-work-card__link {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    margin-top: 16px;
    font-size: 14px;
    font-weight: 600;
    color: var(--ik-primary);
    text-decoration: none;
    transition: gap 0.2s var(--ik-ease);
}

.ik-work-card__link:hover {
    gap: 10px;
}

@media (max-width: 1024px) {
    .ik-works-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 640px) {
    .ik-works-grid {
        grid-template-columns: 1fr;
    }
}
</style>

<section class="ik-section ik-section--alt" id="works">
    <div class="ik-container">
        <div class="ik-section__header">
            <span class="ik-section__label">{{ works_label }}</span>
            <h2 class="ik-section__title">{{ works_title }}</h2>
            <p class="ik-section__desc">{{ works_desc }}</p>
        </div>
        <div class="ik-works-grid">
            {% for work in works %}
            <div class="ik-work-card ik-fade-in ik-delay-{{ loop.index }}">
                {% if work.image %}
                <img src="{{ work.image }}" alt="{{ work.title }}" class="ik-work-card__image">
                {% else %}
                <div class="ik-work-card__image-placeholder">{{ work.image_placeholder }}</div>
                {% endif %}
                <div class="ik-work-card__content">
                    <div class="ik-work-card__tags">
                        {% for tag in work.tags %}
                        <span class="ik-work-card__tag">{{ tag }}</span>
                        {% endfor %}
                    </div>
                    <h3 class="ik-work-card__title">{{ work.title }}</h3>
                    <p class="ik-work-card__desc">{{ work.desc }}</p>
                    <a href="{{ work.link_href }}" class="ik-work-card__link">{{ work.link_text }} <span>â†’</span></a>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
